태그: #정보처리기사 
연결문서: [통합 구현 5](통합%20구현%205.md)

# 연계 메커니즘

## 01. 연계 메커니즘

### 1) 연계 메커니즘의 구성도
![](연계매커니즘구성도.png)

<br>

### 2) 연계 메커니즘의 구성 요소별 주요 기능과 역할
- 연계 메커니즘은 연계 데이터를 생성하여 전송하는 송신 시스템 및 송신 모듈과 수신하여 운영 데이터베이스에 반영하는 수신 시스템 및 수신 모듈로 구성
- 송신 시스템은 운영 데이터베이스, 응용 프로그램으로부터 연계 데이터를 인터페이스 테이블 또는 파일(TEXT, XML, CSV 등)로 생성하여 송신함
- 수신 시스템은 수신한 인터페이스 테이블의 데이터를 변환하여 운영 데이터베이스에 반영
- 송수신 시스템 사이에 송수신 현황 모니터링 역할을 하는 중계 서버를 배치할 수 있음
- 중계 서버 배치는 성능과 보안의 품질 특성 중 보안이 더 중요한 경우에 설치함
- 중계 서버 배치는 송수신 네트워크가 서로 다른 경우에도 설치함
- 송수신 시스템과 중계 서버의 각 역할이 중복되지 않도록 조정하여 설계
- 최종 인터페이스 테스트와 통합 테스트를 통해서 기능을 검증함
- 연계 방식은 직접 연계 방식, 간접 연계 방식이 있음
    - 직접 연계 방식
        - 중계 시스템을 사용하지 않고 송수신 시스템끼리 직접 인터페이스하는 방식
        - 중간 매개체가 없으므로 일반적으로 연계 처리 속도가 빠르고 구현이 단순함
    - 간접 연계 방식
        - 중간에 EAI 서버와 같은 연계 서버를 활용하는 방식
        - 연계 솔루션에서 제공하는 송수신 엔진과 데이터를 활용하여 인터페이스하는 방식
        - 서로 상이한 네트워크와 프로토콜 등 다양한 환경을 갖는 시스템들을 연계하고 통합 관리할 수 있음

<br>

### 3) 연계 데이터 생성 및 추출
- 운영 데이터베이스에서 연계 데이터를 추출하고 생성하는 부분으로 적용하는 연계 솔루션과는 관계없이 응용 프로그램별로 별도로 구현함
- 응용 시스템에서 구현하는 방식으로는 응용 프로그램에서 생성하는 방법과 데이터베이스의 객체를 이용하는 방법이 있음
- 데이터를 추출하여 생성하는 과정에서 오류가 발생할 경우, 로그 테이블에 발생 시점, 오류 코드, 오류 내용 등을 상세하게 기록

<br>

### 4) 코드 매핑 및 데이터 변환
- 송신 시스템에서 사용하는 코드를 수신 시스템의 코드로 매핑 및 변환하고, 데이터 형식 등이 다를 경우에 데이터 변환 작업을 수행
- 코드 매핑과 데이터 변환은 송신 시스템에서 인터페이스 테이블 생성 시 수행하거나 수신 시스템에서 연계 데이터를 수신 시스템의 운영 데이터베이스에 반영하기 전에 수행할 수 있음
- 코드 매핑과 데이터 변환을 시스템 특성과 환경에 따라 적합한 변환 시점을 결정하여 적용함
- 중계 서버가 있을 경우에는 중계 서버에서 코드 매핑과 데이터 변환을 수행하도록 정의할 수 있음
- 오류 발생 시에는 변환 일시, 오류 코드 및 오류 내용 등을 로그 테이블에 기록함

<br>

---

<br>

## 02. 연계 테이블 생성

### 1) 연계 테이블 또는 파일 생성
- 연계 데이터는 데이터베이스의 테이블을 생성함
- 테이블 여부는 적용하는 연계 솔루션에서 지원하는 기능에 따라 선택할 수 있음
- 연계 테이블의 구조(필드명, 데이터 형식, 길이 등)의 레이아웃을 사전에 협의하여 정의함

<br>

### 2) 연계 테이블 또는 파일의 레이아웃 설계
- 송신 시스템의 연계 테이블의 구조와 수신  시스템의 연계 테이블의 구조는 동일하게 구성함
- 특별한 경우에는 송수신 시스템의 연계 테이블의 구조를 다르게 설계함
- 송신 시스템의 연계 테이블에서는 송신 관련 정보를 관리하기 위한 항목과 송신 시스템에서 필요한 항목을 추가하여 설계함
- 수신 시스템의 연계 테이블에서는 수신 관련 정보를 관리하기 위한 항목과 수신 시스템에서 필요한 항목을 추가하여 설계함
- 연계 데이터의 생성 단계 및 생성 과정에서 발생한 모든 오류 사항은 로그 테이블에 기록하여 송수신 현황과 오류 현황 모니터링 시 활용함

<br>

### 3) 로그(Log) 파일 생성

#### 1. 송신 시스템의 로그 파일
- 연계 데이터 추출과 생성한 결과를 로그 파일에 기록함
- 코드 매핑 및 변환한 결과를 로그 파일에 기록함
- 연계 테이블에 데이터를 추가한 결과를 로그 파일에 기록함

#### 2. 수신 시스템의 로그 파일
- 데이터 수신 및 인터페이스 테이블에 데이터를 생성한 결과를 로그 파일에 기록함
- 코드 매핑 및 변환한 결과를 로그 파일에 기록함
- 운영 데이터베이스에 반영한 결과를 로그 파일에 기록함

<br>

---

<br>

## 03. 연계 서버 또는 송수신 어댑터

### 1) 연계 서버 또는 송신 어댑터
- 도입한 연계 솔루션에서 제공하는 연계 메커니즘의 구성 요소
- 연계 서버 또는 송신 어댑터는 도입한 연계 솔루션에 따라 지원하는 기능이 다름
- 연계 서버는 송신 시스템 또는 수신 시스템 중 한 곳에만 설치함
- 연계 서버는 인터페이스 테이블의 데이터를 전송 형식으로 변환, 송수신 대상 관리, 실제 송수신, 송수신 여부 관리 등 송수신과 관련된 모든 처리를 수행함
- 일반적으로 연계 서버는 수신 시스템 구간에 위치하며, 연계 엔진, 중계 서버의 용어로도 사용됨

<br>

### 2) 전송
- 연계 서버(엔진)에 의해 송신 시스템에서 생선된 연계 데이터는 네트워크 환경에 따라 설정된 전송 형식으로 변환된 후 수신 시스템으로 전송됨
- 연계 전송 주기는 실시간 또는 분, 시간 일 단위의 주기로 설정할 수 있음
- 연계 전송 주기는 데이터 생성 방식이나 시점 등에 영향을 받음

<br>

### 3) 연계 서버 또는 수신 어댑터
- 연계 서버 또는 수신 어댑터는 송신 시스템에서 연계 데이터를 전송 형식으로 전환하여 송신한 정보를 다시 인터페이스 테이블의 레이아웃으로 전환하여 생성함
- 연계 서버에서 실제 수신, 수신 대상 관리, 전송 형식을 인터페이스 테이블 레이아웃으로의 전환 등을 담당하므로 수신 어댑터 또는 수신 클라이언트를 설치하지 않아도 됨

<br>

---

<br>

## 04. 운영 데이터베이스에 연계 데이터 반영

### 1) 운영 데이터베이스에 연계 데이터 반영
- 수신된 연계 테이블 구조의 연계 데이터를 운영 데이터베이스에 반영하는 과정
- 연계 테이블의 데이터를 운영 데이터베이스의 테이블에 반영하는 변환 프로그램을 별도로 구현함

<br>

### 2) 변환 프로그램 구현 내용
- 수신 연계 테이블의 데이터를 운영 데이터베이스의 테이블 구조와 값으로 변환하는 프로그램
- 수신된 연계 데이터가 송신 시스템의 운영 데이터베이스에서 사용하는 공통 코드, 데이터 형식으로 전환하고 확인하는 작업이 포함됨

<br>

### 3) 변환 프로그램 구현 방식
- 수신 연계 테이블의 데이터를 운영 데이터베이스에 반영하기 위한 구현 방식으로는 송신 시스템의 운영 데이터베이스에서 데이터를 추출 및 생성하는 구현 방식과 유사함
- 수신 연계 테이블에 트리거와 같은 DBMS 객체를 활용하여 실시간으로 반영하도록 구현하거나 수신된 연계 테이블의 데이터를 적재하여 운영 데이터베이스로의 전환 및 변환하는 응용 프로그램을 구현함
    - 트리거
        - 특정 테이블에 삽입, 수정, 삭제 등의 데이터 변경 이벤트가 발생하면 DBMS에서 자동적으로 실행되도록 구현된 프로그램
        - 특정 테이블에 대한 데이터 변경을 시작점으로 설정하고, 그와 관련된 작업을 자동적으로 수행하기 위해 트리거를 사용

<br>

### 4) 연계 데이터 반영 주기
- 수신 시스템 운영 데이터베이스에 수신된 연계 데이터를 반영하는 방식을 응용 프로그램으로 별도로 구현했을 때는 운영 데이터베이스 반영 응용 프로그램의 실행 방식에 따라 실시간 또는 주기적으로 연계 데이터를 반영할 수 있음
- 연계 데이터가 수신되는 즉시 운영 데이터베이스 반영 프로그램을 실행하면 운영 데이터베이스에 수신 데이터를 실시간으로 반영할 수 있음
- 연계 데이터를 운영 데이터베이스에 주기적으로 반영하고자 할 경우, 운영 데이터베이스 반영 프로그램의 실행 주기를 설정하면 연계 데이터가 수신된 후 설정된 주기가 경과해야 운영 데이터베이스에 반영됨