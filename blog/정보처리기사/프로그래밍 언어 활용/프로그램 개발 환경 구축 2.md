태그: #정보처리기사 
연결문서: [명령어와 주소 지정 1](명령어와%20주소%20지정%201.md)

# 02. 배치 프로그램

## 01. 배치 프로그램

### 1) 배치 프로그램의 개념
- 사용자의 상호 작용 없이 특정 작업을 작업 단위로 묶어 주기적으로 반복 수행해보거나 정해진 규칙에 따라 일괄 처리하는 것

<br>

### 2) 배치 프로그램의 필수 요소
1. 대용량 데이터 : 대용량의 데이터를 처리할 수 있어야 함
2. 자동화 : 심각한 오류 상황 외에는 사용자의 개입 없이 동작해야 함
3. 견고함 : 유효하지 않은 데이터도 처리해서 비정상적인 동작 중단이 발생하지 않아야 함
4. 안정성 : 어떤 문제가 생겼는지, 언제 발생했는지 등을 추적할 수 있어야 함
5. 성능 : 주어진 시간 내에 처리를 완료할 수 있어야 하고, 동시에 동작하고 있는 다른 애플리케이션을 방해하지 말아야 함

<br>

### 3)  배치 프로그램 테스트
1. 배치 프로그램 주기를 변경
    - 테스트가 가능한 주기로 변경하여 로그에 정상적으로 출력되는지 확인함
2. 디버깅을 통한 정상 동작 검증
    - 배치 프로그램은 목표 시스템의 품질에 영향도가 높은 작업이므로 디버깅을 통해 구문 확인이 필요함
    - 디버그 모드(Debug Mode)로 실행함
    - 검증할 코드 라인에 중단점(Break Point)을 지정하여 코드를 검증함
3. 배치 프로그램의 로그를 확인
4. 목적 테이블에서 정상적으로 배치 프로그램 실행 확인
    - 배치 프로그램을 실행하기 전 데이터를 확인함
    - 배치 프로그램을 실행하였을 경우의 대상 데이터를 확인함
    - 배치 프로그램을 실행한 후의 데이터를 확인함
5. 정상적으로 실행되지 않았을 경우 오류 확인
    - 데이터가 목적에 맞지 않게 처리된 경우는 참조 테이블의 데이터를 확인하여 오류를 확인함
    - 로그에 실패가 출력된 경우 디버깅을 통해 오류를 확인함

<br>

---

<br>

## 02. 배치 스케줄러(Scheduler)

### 1) 배치 스케줄러의 개념
- 일괄 처리를 위해 주기적으로 발생하거나 반복적으로 발생하는 작업을 지원하는 도구

<br>

### 2) 배치 스케줄러의 종류
1. 스프링 배치(Spring Batch)
    - 스프링 배치는 Spring Source사와  Accenture사의 공동 작업으로 2007년에 탄생한 배치 기반 오픈소스 프레임워크

| &nbsp;&nbsp;제공 기능&nbsp;&nbsp; | &nbsp;&nbsp;설명&nbsp;&nbsp; |
| :-: | :-: |
| &nbsp;&nbsp;스프링 프레임워크 기반&nbsp;&nbsp; | &nbsp;&nbsp;스프링의 DI, AOP 및 다양한 엔터프라이즈 지원 기능을 사용함&nbsp;&nbsp; |
| &nbsp;&nbsp;자체 제공 컴포넌트&nbsp;&nbsp; | &nbsp;&nbsp;배치 처리 시 공통적으로 필요한 컴포넌트를 제공함&nbsp;&nbsp; |
| &nbsp;&nbsp;견고함과 안정성&nbsp;&nbsp; | &nbsp;&nbsp;선언적 생략과 처리 실패 후 재시도 설정을 제공함&nbsp;&nbsp; |

<br>

2. Quartz 스케줄러
    - Spring 프레임워크에 플러그인(Plug-in)되어 수행하는 Job과 실행 스케줄을 정의하는 Trigger를 분리하여 유연성을 제공하는 오픈소스 스케줄러
    - 구성 요소
        - Scheduler
            - Quartz 실행 환경을 관리하는 핵심 객체
        - Job
            - 사용자가 수행할 작업을 정의하는 인터페이스
            - Trigger 개체를 이용하여 스케줄 할 수 있음
        - JobDetail
            - 수행할 Job에 대한 상세 정보를 정의하는 개체
        - Trigger
            - 정의한 Job 개체의 실행 스케줄을 정의하는 개체
            - Scheduler 개체에서 Job 수행 시점을 알려주는 개체