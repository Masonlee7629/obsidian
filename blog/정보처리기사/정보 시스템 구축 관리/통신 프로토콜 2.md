태그: #정보처리기사 
연결문서: [통신 프로토콜 3](통신%20프로토콜%203.md)

# 02. 인터넷 프로토콜(TCP/IP)

## 01. TCP/IP 프로토콜

### 1) TCP/IP 프로토콜

#### 1. TCP/IP 프로토콜의 개념
- TCP/IP는 TCP와 IP 프로토콜만을 지칭하는 것이 아니라 UDP, ICMP, ARP, RARP 등 관련된 프로토콜을 통칭함
- TCP와 UDP로 구분되는 프로토콜은 트랜스포트 계층에서 응용 계층과 인터넷 계층 사이의 통신을 담당함
- TCP와 UDP의 가장 큰 차이점은 데이터 전송의 신뢰성에 있음
- TCP는 수신 측의 수신 가능 상태, 수신 여부 등을 단계별로 체크해 가며 데이터를 전송함
- UDP는 망으로 데이터를 송신할 뿐 확인 작업을 수행하지 않음

#### 2. TCP/IP 프로토콜의 관계

![](image_08.jpg)

#### 3. TCP/IP의 특징
- 인터넷 연결을 위한 프로토콜
- TCP/IP는 링크 계층, TCP 계층, IP 계층, 응용 계층으로 구분됨
- TCP는 데이터 전송 프로토콜로 연결형 프로토콜
- IP는 여러 개의 패킷 교환망들의 상호 연결을 위한 범용 비연결 프로토콜
- 현재로는 SMTP, HTTP, FTP, Telnet이 주요 서비스
- IPv6는 IPv4의 한계로 인해 출현함
- UNIX OS가 탑재된 워크스테이션이나, 미니컴퓨터를 주축으로 하여 운영되고 있음

<br>

### 2) TCP/IP의 전달 구조
1. Data 구조
    - 데이터는 단말기에서 구동되는 응용 프로그램과 기기의 종류에 따라 다른 형태로 전달되며 16bit, 24bit, 36bit, ASCII, EBCDIC, Binary 등으로 구분됨
2. TCP 헤더
    - TCP 헤더는 송수신자의 포트 번호, 순서 번호, 응답 번호 등 전달되는 정보를 파악함
3. IP 헤더
    - IP 헤더는 IP 버전과 송신 측 IP, 수신 측 IP뿐만 아니라 프로토콜의 종류, 서비스 타입 등의 정보가 기억되어 있음
    - IP 헤더는 IPv4와 IPv6의 전환 기술 정보가 기억되어 있음
4. MAC 주소
    - 네트워크 세그먼트의 데이터 링크 계층에서 통신을 위한 네트워크 인터페이스에 할당된 고유 식별자
    - IEEE 802 네트워크 기술에 네트워크 주소로 사용되며, MAC 주소(LAN 카드 주소, 물리적 카드 주소)와 Wi-Fi를 포함한 대부분의 기기가 주소를 가지고 있음
    - 자신이 보유한 네트워크 접속 가능 장비의 MAC 주소를 확인함

<br>

### 3) IP의 헤더(Header)
1. Version : 현재로는 버전 4(IPv4)를 사용함
2. IHL(IP Header Length) : 헤더의 길이를 기록함
3. TOS(Type Of Service) : 요구되는 서비스 품질을 설정함
4. Total Packet Length : IP 헤더 및 데이터를 포함한 IP 패킷 전체 의 길이를 바이트 단위로 길이를 표시함
5. Identifier : 전송 데이터를 패킷으로 분할하고 조립할 떄 사용하며, 같은 종류의 패킷들을 식별하기 위해 사용함
6. Flags : 패킷 분열의 특성을 나타내는 플러그
7. Flagment Offset : 패킷의 분할된 정보를 기록함
8. TTL(Time-To-Live) : IP 패킷의 수명 기간을 기록하며, 패킷이 소멸되기 이전에 데이터가 이동할 수 있는 단계의 수를 나타냄
9. Protocol ID : 상위 계층 프로토콜의 정보를 기록함
10. Header Checksum : IP 헤더의 오류를 검사하며, 라우터를 지나갈 때마다 매번 계산을 하기 때문에 속도가 떨어지는 요인이 됨
11. Souerce IP Address : 발신지(송신 측) IP 주소를 기록함
12. Destination IP Address : 목적지(수신 측) IP 주소를 기록함
13. Option and Padding : 제어, 디버깅 등이 가능하나 대부분 사용하지 않으며, 데이터 통신에 영향을 미치는 특정 역할을 담당하지 않음

<br>

### 4) TCP 헤더
1. Source Port Number : 발신지(송신 측) 포트 번호를 기록함
2. Destination Port Number : 목적지(수신 측) 포트 번호를 기록함
3. Sequence Number : 전송되는 데이터의 가상 회선을 통해 전송되는 데이터의 모든 바이트에는 고유한 일련번호가 부여되며, 네트워크가 불안하여 패킷을 분실, 지연 등으로 세그먼트(패킷) 순서가 어긋나게 도착할 수 있기 때문에 여기서 데이터를 올바른 순서로 재배열할 수 있음
4. Acknowledgment Number : 다음 세그먼트(패킷)를 수신할 준비가 되었다는 사실을 알리며, 모든 데이터가 수신되었다는 것을 나타내는 묵시적인 확인 메시지 역할을 함, 묵시적인 확인은 ACK 플래그 비트가 지정된 경우에만 유효하고, 다음에 수신을 기대하는 데이터의 순서 번호가 있다면 표시해야 함
5. HLEN(Head LENgth) : 헤드의 길이를 32비트 단위로 나타내며, IPv4의 헤더 크기(길이)는 20byte~60byte로 가변이고, IPv6의 헤더 크기(길이)는 40byte로 고정
6. U(URG) : Urgent Pointer 필드가 가리키는 패킷 번호까지 긴급 데이터를 포함하고 있다는 것을 뜻하며, 이 플래그가 설정되지 않았다면 Urgent Pointer 필드는 무시되어야 함
7. A(ACK) : 확인 응답 메시지
8. P(PSH) : 현재 패킷에 포함된 데이터를 상위 계층에 즉시 전달하도록 지시할 때 사용함
9. R(RST) : 유효하지 않은 패킷에 대한 응답용으로 사용함
10. S(SYN) : 가상 회선 연결을 설정할 때 사용하며, 정확한 메시지를 송수신하기 위한 동기화를 할 때 사용함
11. F(FIN) : 전송할 데이터가 없어 연결을 종료하고 싶다는 의사 표시를 상대방에게 알리는 데 사용하며, 연결 해제는 송수신 측 모두가 FIN 플래그를 전송해야 완료됨
12. Window Size : 슬라이딩 윈도 프로토콜에서 수신 패킷의 개수를 지정할 때 사용하며, 수신 측에서 수신할 수 있는 패킷 수를 표시하는 공간, 수신 측의 버퍼 용량이 초과하여 더는 수신할 수 없으면 이 필드값을 0으로 지정함
13. Checksum : TCP 헤더와 TCP 데이터를 검사하며, TCP의 헤더와 데이터 모두에 대한 변형 오류를 검출하려고 사용함
14. Urgent Pointer : 긴급 데이터를 처리하기 위한 용도로 사용하며, URG 플래그 비트가 지정된 경우에만 유효함

<br>

### 5) UDP 헤더
1. Source Port Number : 발신지(송신 측) 포트 번호를 기록함
2. Destination Port Number : 목적지(수신 측) 포트 번호를 기록함
3. UDP Length : UDP 헤더와 UDP 데이터의 길이를 기록함
4. UDP Checksum : UDP 헤더와 UDP 데이터를 검사하며, UDP의 헤더와 데이터 모두에 대한 변형 오류를 검출하려고 사용함
5. UDP 헤더 길이는 8byte

<br>

---

<br>

## 02. TCP/IP의 응용 계층(인터넷 서비스)

### 1) 전자우편(E-메일)
1. E-메일의 개념
    - E-메일은 편지를 주고받을 수 있는 서비스로 편지를 받을 때는 POP 서버를, 편지를 보낼 때는 SMTP 서버를 이용함
    - E-메일 주소를 '사용자ID@호스트주소'의 형식으로 이루어짐
    - E-메일을 주고받을 때는 송신자와 수신자가 동시에 인터넷에 연결되어 있지 않아도 됨
2. SMTP(Simple Mail Transfer Protocol)
    - 사용자가 컴퓨터에서 작성한 메일을 다른 사람의 계정이 있는 곳으로 전송해 주는 역할을 하는 프로토콜
3. POP3(Post Office Protocol 3)
    - E-메일 서버에 도착한 E-메일을 사용자 컴퓨터로 가져올 수 있도록 메일 서버에서 제공하는 프로토콜
4. MIME(Multipurpose Internet Mail Extensions)
    - 텍스트, 이미지, 오디오, 비디오 등의 멀티미디어 전자우편을 주고받기 위한 인터넷 메일의 표준
5. IMAP(Internet Messaging Access Protocol)
    - 메일 서버에 직접 접속해 E-메일을 관리하는 프로토콜
    - POP3보다 유연하고 뛰어난 기능을 갖는 프로토콜
    - POP3는 메일 서버에 있는 메일을 자신의 컴퓨터로 가져와 관리하는 프로토콜이지만 IMAP는 메일 서버에 직접 접속해 메일을 관리하는 프로토콜
    - IMAP은 POP3에 비해 사용되는 명령어와 옵션이 더 많은 프로토콜
6. IMAP의 특징
    - 양방향 통신을 제공함
    - 어떤 기기를 이용하든 언제든지 E-메일에 액세스할 수 있음
    - 폴더를 이용하여 메일을 구분하고 관리할 수 있음
    - POP에서는 메일이 사라지거나 같은 메일을 여러 번 다운로드하는 문제가 종종 발생하지만 양방향 동기화 기능으로 인해 이러한 문제가 발생하지 않음
    - 메일의 머리말 부분과 메시지의 일부분을 미리 볼 수 있음
7. 전자우편의 옵션
    - 전자우편의 헤더는 발신자 주소, 숨은 참조인 주소, 편지의 제목으로 구성됨
    - 전자우편은 보내기, 받기, 첨부, 전달, 답장 등의 기능이 있음
    - 전달(Forward) 기능은 전자우편 메시지와 첨부 자료들을 다른 사람에게 그대로 전송하려고 할 때 사용하는 기능

<br>

### 2) HTTP 서비스
- 웹상에서 파일(텍스트, 그래픽 이미지, 사운드, 비디오 그리고 기타 멀티미디어 파일)을 주고 받는데 필요한 서비스로, 현재는 대부분 HTTP 서비스를 사용함
- 고급화된 파일 검색 프로토콜이며, 웹 브라우저의 주요 서비스로 URL에서 http://로 사용함

<br>

### 3) FTP(File Transfer Protocol) 서비스
1. FTP의 개념
    - FTP는 인터넷에서 파일은 전송하기 위한 프로토콜
    - 인터넷을 통하여 어떤 한 컴퓨터에서 다른 컴퓨터로 파일을 송수신할 수 있도록 지원하는 서비스
2. FTP의 서버
    - 다른 컴퓨터가 접속하면 파일의 업로드와 다운로드 서비스를 제공하는 컴퓨터를 FTP 서버라고 함
    - 계정 없이 접속할 수 있는 FTP 서버를 Anonymous(익명) FTP 서버라고 함
    - Anonymous FTP  서버에서 특정 파일을 다운로드 받기 위한 계정은 없어도 됨
    - Anonymous FTP 서버의 사용자 ID가 Anonymous이고 비밀번호는 본인의 이메일을 입력함
    - Anonymous FTP 서버를 사용할 경우에도 FTP 서버의 주소를 반드시 입력해야 함
3. FTP의 파일 송수신 모드
    - FTP 서비스에서는 일반적으로 문자 모드(Text Mode)와 이진 모드(Binary Mode)로 구분하여 파일을 송수신할 수 있음
    - 문서 파일을 전송할 때는 문자 모드를 사용함
    - 그림 파일을 전송할 때는 이진 모드를 사용함

<br>

### 4) Telnet 서비스
- 원격지에 있는 컴퓨터에 권한을 가진 사용자가 접속하여 프로그램을 실행하거나 시스템 관리 작업을 할 수 있는 인터넷 서비스
- 네트워크를 통해 원격으로 컴퓨터를 연결하여 자신의 로컬 컴퓨터처럼 사용할 수 있도록 하는 서비스
- 가상 터미널(Virtual Terminal) 기능을 가짐
- 인터넷상의 다른 컴퓨터에 로그인하여 사용할 수 있게 하는 서비스
- 원격 호스트에 접속하여 프로그래밍하거나 시스템 관리 등의 작업을 할 수 있음

<br>

### 5) 유즈넷(UseNet) 서비스
- 다수의 사용자가 각 분야별로 공지사항 및 최신 정보를 제공해주는 서비스
- 인터넷 사용자들 간에 새로운 뉴스의 분배, 조회, 및 송수신할 수 있는 환경을 제공하는 세계적인 정보 교환 시스템 서비스
- 유즈넥에 자신의 기사를 게시하는 것을 포스팅이라 함
- 내용상 연결된 글들의 계층 구조를 스레드라 함
- 유즈넷을 이루고 있는 각 토론 그룹을 뉴스 그룹이라 함

<br>

### 6) Gopher 서비스
- 인터넷의 문헌 자료 데이터베이스 서비스 프로토콜

<br>

### 7) Archie 서비스
- FTP 지원 서비스로 HOST를 검색하는 서비스 프로토콜
- 자신이 원하는 정보들이 인터넷상의 어느 디렉터리에 있는지를 알아볼 수 있는 서비스

<br>

### 8) WAIS 서비스
- WAIS 클라이언트는 WAIS 서버를 검색하여 각종 DB의 색인을 통한 자료를 찾을 수 있게 하는 서비스
- 인터넷에 흩어져 있는 여러 곳의 데이터베이스로부터 데이터를 검색할 수 있는 서비스

<br>

### 9) 핑거(Finger)
- 특정 시스템을 사용하고 있는 사용자의 정보를 알아보기 위한 서비스

<br>

### 10) IRC(Internet Relay Chat)
- 인터넷을 통해 채팅할 수 있도록 하는 서비스

<br>

### 11) WWW와 웹 브라우저
1. WWW(World Wide Web)
    - 각각의 컴퓨터가 모여서 전 세계에 걸쳐 네트워크로 연결된 상태를 말함
    - 인터넷상에서 쉽게 정보를 찾을 수 있도록 제작된 세계적인 인터넷망으로, HTTP 프로토콜을 사용하기 위한 인터페이스
    - 웹 페이지는 서버에서 정보를 제공하여 주고 클라이언트에서는 웹 브라우저에 의해 정보를 검색하고 제공 받음
    - 하이퍼텍스트에 의해 인터넷망에 분산되어 존재하는 많은 종류의 정보를 같은 방법으로 찾아볼 수 있게 하는 광역 정보 통신 서비스
    - 멀티미디어 형식의 정보를 제공할 수 있음
2. 웹 브라우저(Web Browser)
    - 웹(WWW) 서비스를 이용할 수 있게 하는 프로그램으로 HTML로 서술된 하이퍼텍스트를 받아서 보여주는 프로그램
    - 플러그인 프로그램을 설치하여 동영상이나 소리 등의 다양한 멀티미디어 데이터를 처리할 수 있음
    - 웹 브라우저를 처음 실행시킨 후부터 종료 전까지 사용자가 방문했던 웹 사이트 주소들을 순서대로 기억하여 보존하는 기능을 히스토리라고 함
    - 자주 방문하는 웹 사이트를 쉽게 찾아갈 수 있도록 해당 웹 사이트 주소를 목록 형태로 저장해 둔 것을 즐겨찾기라고 함
    - 자주 사용하는 사이트의 자료를 따로 저장하고 있다가 사용자가 다시 사이트에 접근하려고 할 때 저장한 자료를 활용해서 빠르게 보여주는 기능을 쿠키라고 함
    - 하이퍼텍스트는 텍스트가 링크로 연결된 문서로 사용자의 의도에 따라 문서를 읽는 순서가 결정되는 비선형 구조
    - 하이퍼미디어는 하이퍼텍스트 개념에 멀티미디어 개념을 첨가한 것