태그: #정보처리기사
연결문서: [통신 프로토콜 1](통신%20프로토콜%201.md)

# 03. 통신망 기술

## 07. 경로 선택(Routing)

### 1) 경로 선택
1. 경로 선택의 개념
    - 데이터 패킷을 출발지에서 목적기까지 이용 가능한 전송로를 찾아본 후에 가장 효율적인 전송로를 선택하는 기술
    - 송신 측과 수신 측 간의 가장 빠르고 신뢰성 있는 경로를 설정 및 관리하며, 데이터를 전달하는 역할을 함
    - 주로 같은 프로토콜을 사용하는 네트워크 간의 최적 경로 설정을 위해 패킷이 지나가야 할 정보를 테이블에 저장하여 지정된 경로를 통해 전송함
    - 경로 선택기(Router, 라우터)는 OSI 계층 모델의 네트워크 계층에서 동작하는 장비
    - OSI 계층 모델의 네트워크 계층에서는 송수신지의 IP 주소를 헤더에 포함하여 전송하는 논리 주소 지정 기능과 송신지에서 수신지까지 데이터가 전송될 수 있도록 최단 전송 경로를 선택하는 라우팅 기능 등을 수행함
2. 경로 선택기의 구조
    - 경로 선택기(Router)는 교환기 내부의 장비
    - 입력된 패킷은 일시 저장된 후에 경로 선택기에 의해 출력됨
    - 저장된 패킷들이 한계점 미만 상태이면 정상 흐름 상태이고, 이상 상태이면 체증이 증가하며 점점 느려지게 됨

<br>

### 2) 경로 선택(배정) 전략
1. 고정 경로 선택(착국 부호 방식)
    - 입력되는 패킷의 경로가 이미 정해져 있는 방식으로 경로 선택기는 체증이 심한 경로일지라도 정해져 있는 경로로 패킷을 출력함
2. 범람 경로 선택(Flooding)
    - 입력된 경로를 제외하고 모든 경로에 패킷의 복사본이 전송되는 방법으로 신뢰성과 최단 경로가 보장됨
    - 복사된 패킷으로 인한 체증 증가를 감안하여 홉 카운트(Hop Count)를 이용하여 일시적으로 제거함
    - 패킷을 전송할 때 교환기의 수를 홉카운트에 기록함
    - 교환기에서 복사가 될 때마다 홉카운트를 1씩 감소시킴
    - 홉카운트가 0이면 패킷은 삭제가 되므로 일시적으로 복사 패킷들은 삭제됨
    - 복사된 패킷 중의 하나가 수신 측에 최단 경로를 통해 수신 측에 도착함
    - 첫 번째 수신된 패킷이 손상되었더라도 두 번째 패킷이 있으므로 반드시 패킷을 수신할 수 있음
3. 적응적(Adaptive) 경로 선택
    - 중간 노드의 체증이나 교착상태 등의 변화에 대한 정보를 얻어 능동적으로 경로를 선택하는 동적인 방식

<br>

### 3) 라우팅(경로 선택) 프로토콜
1. 정적 라우팅(Static Routing)
    - 사람이 직접 경로를 입력하는 수동식 방법
    - 사람의 관리 부담이 증가함
    - 라우터 자체에 부하가 감소되고 고속의 라우팅이 가능함
    - 경로 문제 발생 시 라우팅이 불가능해짐
2. 동적 라우팅(Dynamic Routing)
    - 라우터 장비가 자동으로 라우팅 테이블을 갱신하여 경로를 결정함
    - 라우터에 부하가 증가되고 정적 라우팅보다 라우팅이 느림
    - 경로 문제 발생 시 우회해서 라우팅할 수 있음
3. IGP(Interior Gateway Protocol, 내부 라우팅 프로토콜)
    - AS 내에서 라우팅을 담당하는 프로토콜
        - AS(Autonomous System) : 동일한 라우팅 정책으로 한 명의 관리자에 의하여 운용 관리되는 네트워크 집합체
4. EGP(Exterior Gateway Protocol, 외부 라우팅 프로토콜)
    - 서로 다른 AS 사이에 라우팅을 담당하는 프로토콜
5. Distance Vector
    - 라우팅 테이블에 목적지까지 진행하는 경로를 필요한 거리와 방향만 기록하는 방식
    - 변화가 없어도 주기적으로 모든 라우팅 테이블이 교환되기 때문에 트래픽이 증가함
    - 라우팅 정보를 전송할 때 목적지 네트워크와 매트릭 값을 알려줌
        - 매트릭(metric) : 네트워크를 거쳐 지나갈 때 할당되는 비용으로 최적의 경로 선택 기준
    - 라우팅 프로토콜마다 사용하는 매트릭이 다름
    - 어떤 라우터를 통하면 목적지 네트워크까지 매트릭이 얼마라는 것만 알고 있음
    - 라우팅 정보를 획득하면 목적지 네트워크와 매트릭을 인접 라우터에게 알려줌
    - 전체 네트워크의 구성 형태는 알지 못함
    - 라우팅 테이블이 간단함
    - 주변 라우터의 정보만 교환하기 때문에 루프 현상이 발생함
    - 인접한 라우터가 알려준 내용을 믿고 라우팅 테이블을 만들기 때문에 소문에 의한 라우팅이라고도 함
    - Bellman-Ford/Ford-Fulkerson 알고리즘을 사용함
6. Link State
    - 모든 라우팅 테이블에 목적지까지 진행하는 경로를 SPF 알고리즘으로 기록하는 방식
    - 목적지까지의 모든 경로 정보를 저장함
    - 라우팅 테이블이 복잡함
    - 네트워크 변화를 빠르게 감지하여 경로를 재설정할 수 있음
    - 변경된 라우팅 테이블 정보만 교환할 수 있기 때문에 부하가 감소됨
    - 목적지 네트워크, 매트릭, 네트워크가 접속되어 있는 라우터, 인접한 라우터 등의 모든 정보를 알려줌
    - 상대 라우터들이 전체 네트워크 정보를 획득할 때 필요한 모든 정보를 알려줌
    - 이웃한 라우터에 대한 정보를 공유함
    - 다른 모든 라우터와 정보를 공유함
    - 변화가 있는 경우에 정보를 공유함
    - Dijkstra 알고리즘을 사용함
7. RIP(Routing Information Protocol)
    - 매트릭을 이용하여 홉카운트를 계산함
    - 최대 홉카운트를 15이하로 제한함
    - 라우팅 정보를 30초마다 자신이 속한 네트워크 내에 전달함
    - AS 내에서만 사용함
    - 라우팅 테이블을 전체적으로 브로드캐스트해서 전달하며, 주기가 짧아 네트워크의 부하가 증가함
    - 저속이며 브로드캐스트를 사용하기 때문에 대역폭을 많이 사용함
    - 일정 시간(180초) 경과 후에도 갱신되지 않을 경우 테이블에서 삭제함
    - 모든 도달 가능한 네트워크를 라우팅 테이블에 유지함
    - 목적지 네트워크에 도달할 수 있는 오직 하나의 경로만이 존재함
    - 회선의 속도를 무시한 홉카운트를 이용하기 때문에 비효율적으로 라우팅 경로를 설정함
    - Bellman-Ford/Ford-Fulkerson의 Distance Vector 알고리즘을 사용함
8. IGRP(Internet Gateway Routing Protocol)
    - 미국의 시스코(CISCO) 시스템 회사의 고유한 프로토콜
    - 독립적 네트워크 내에서만 사용함
    - 홉카운트를 기준으로 하여 정보를 전송함
    - 회선의 전송 능력, 전송 지연 시간, 사용률, 신뢰성을 고려하여 라우팅 경로를 결정함
    - 90초마다 브로드케스트를 이용하여 갱신함
    - 네트워크 변화에 대한 신속한 반응을 할 수 있음
    - 라우팅 테이블 갱신을 위해 꼭 필요한 정보만을 전송하기 때문에 회선에 대한 부하가 감소됨
    - 중, 소규모 네트워크에 적합함
    - 루프(Loop)를 방지하기 위해 일정한 시간이 경과하기 전에 새로운 정보가 들어올 경우는 무시함
    - 데이터 전송 시 다양한 타입의 서비스를 지원할 수 있음
9. EIGRP(Enhanced IGRP)
    - 순차적으로 패킷을 전달하기 때문에 신뢰성 있는 프로토콜
    - 빠르게 정보를 받기 때문에 대역폭이 적게 소요됨
    - VLSM를 지원하므로 IP 주소의 낭비를 막을 수 있음
    - Secondary IP Address를 이용할 수 있음
    - 홉카운트 수 제안이 완화됨(224개)
    - IGRP와 라우팅 정보를 교환할 수 있음
    - IGRP의 매트릭 구성 값에 256을 곱하여 작동함
10. OSPF(Open Shortest Path First)
    - RIP의 단점을 개선한 라우팅 프로토콜
    - 홉카운트의 제한이 없어 대규모 네트워크에 적합함
    - 대부분 인터넷 공급자들과 규모가 큰 집단에서 주로 사용함
    - 라우팅 알고리즘이 복잡하여 라우터에 부담이 큼
    - 네트워크 규모가 커지면 라우터의 성능이 급격히 떨어질 수 있음
    - 최소 링크 비용 알고리즘을 사용함
    - Area로 계산하는 단위
    - 정보 갱신을 필요 시에 변경된 정보를 수집함
    - 가장 많이 사용되는 IGP 라우팅 프로토콜
    - 효율적인 라우팅 수행을 위해 AS를 여러 개로 분리함
    - AS 경게 라우터가 다른 AS에 정보를 전달함
    - VLSM를 지원하므로 IP 주소의 낭비를 막을 수 있음
    - 이웃하는 라우터 확인을 위해 "Hello" 프로토콜을 사용함
    - 하나 이상의 Area에 접속할 수 있음
11. BGP(Border Gateway Protocol)
    - AS와 AS 간에 사용되는 프로토콜
    - 개선된 Distance Vector 알고리즘을 사용함
    - 라우팅 정보를 받아들이는 속도가 느림
    - 179번 포트를 이용한 TCP 서비스를 사용함
    - 오류 제어나 흐름 제어가 필요하지 않음

<br>

---

<br>

## 08. 트래픽 제어(Traffic Control)

### 1) 흐름 제어(Flow Control)
1. 흐름 제어
    - 패킷 교환 방식에서 통신망 내의 트래픽 제어의 원활한 흐름을 위해 네트워크 내의 노드와 노드 사이에 전송하는 패킷의 양이나 속도를 규제하는 기술
2. Choke Packet
    - 수신 측에서 송신 측에 전송하는 전송 지연 신호로 송신 측의 데이터 전송 속도를 조절하는 방법
3. 슬라이딩 윈도(Sliding window)
    - 송신 측에서는 수신 측으로부터 전송할 프레임의 개수(윈도 크기)를 미리 지정 받음
    - 프레임의 개수가 증가하거나 감소하게 되는데 수신 측으로부터 이전에 송신한 프레에 대한 긍정적인 응답이 왔을 때만 프레임의 개수가 증가하게 됨
    - OSI 계층 모델의 데이터 링크 계층에서 동작하는 기술

<br>

### 2) 체증 제어(Congestion Control)
- 네트워크상에 패킷 수를 조절하는 기술로 각 노드의 패킷 수신 버퍼를 한계점 아래로 사용하도록 조절함
- OSI 계층 모델의 네트워크 계층에서 동작하는 기술

<br>

### 3) 교착상태(DeadLock)
- 노드 간에 패킷을 기억할 수 있는 버퍼나 디스크의 용량이 넘쳐 패킷을 전송할 수 없는 상태
- 흐름 제어가 실패하면 체증이 유발되고 패킷의 흐름이 정지되는 상태

<br>

### 4) 락업(Lock-UP)
- 교착상태가 발전되어 모든 패킷의 흐름과 교환기가 정지 상태가 되는 상태
- 인터넷 대란이라고도 함

<br>

---

<br>

## 09. 네트워크 장비 유형

### 1) 허브(Hub)
- 허브는 여러 대의 컴퓨터를 연결하여 네트워크로 보내거나 하나의 네트워크로 수신된 정보를 여러 대의 컴퓨터로 송신하기 위한 장비
- 다수의 오프라인, 온라인 접속 기기들을 로컬 네트워크에 연결하기 위한 장비
- 수신한 프레임을 수신 포트를 제외한 모든 포트로 전송함
- 스위칭 허브 : 스위치 기능을 가진 허브를 의미하며 요즘 사용되는 대부분의 허브
- 백본 스위칭 허브 : 광역 네트워크를 커버하는 스위칭 허브로, 경기권 스위칭, 부산권 스위칭 등 대단위 지역을 커버함

<br>

### 2) 리피터(Repeater)
- 리피터는 디지털 신호를 증폭 시켜 주는 역할을 하여 신호가 약해지지 않고 컴퓨터로 수신되도록 함
- 감쇠된 전송 신호를 새롭게 재생하여 다시 전달하는 재생 중계 장치

<br>

### 3) 브리지(Bridge)
- 브리지와 스위치는 두 시스템을 연결하는 네트워킹 장치이며 두 개의 LAN을 연결하여 훨씬 더 넓은 LAN을 만들어 줌
- 브리지는 두 개의 근거리 통신망(LAN)을 서로 연결해주는 통신망 연결 장치
- 브리지는 포트들이 같은 속도를 지원하지만 스위치는 각기 다른 속도를 지원하도록 제어할 수 있음
- 브리지는 Store and Forwarding 전송 방식만을 사용함

<br>

### 4) 스위치(Switch)
- 스위치는 MAC 주소 테이블을 이용하여 목적지 MAC 주소를 가진 장비 측 포트로만 프레임을 전송하는 역할을 함
- 스위치는 하드웨어 기반으로 처리하기 때문에 속도가 빠르며, 브리지는 소프트웨어 방식으로 처리하기 때문에 속도가 느림
- 스위치는 제공하는 포트 수가 수십, 수백 개로 2~3개의 포트를 제공하는 브리지보다 많음
- 스위치는 Cut Through와 Fragment Free 방식을 같이 사용함
    - Cut Through : 데이터의 목적지 주소만 확인 후 바로 전송 처리하는 방식
    - Fragment Free : Store and Forwarding과 Cut Through 방식의 장점을 결합한 방식
- 스위칭은 넓은 의미로 네트워크에서 전달 경로를 찾는 기능을 말함
- 스위칭은 네트워크에서 트래픽의 전달 경로를 결정하는 역할을 함
- 스위칭 장비에는 스위치, 라우터 등이 있음

<br>

### 5) 스위치 장비
1. L2 스위치
    - 가장 원초적인 스위치
    - 상위 계층에서 동작하는 IP를 인식할 수 없음
    - IP를 인식할 수 없기 때문에 따른 라우팅도 불가능함
2. L3 스위치
    - IP 계층에서의 스위칭을 수행하여 외부 네트워크로 데이터를 전송함
    - 라우터와의 경계가 애매모호함
    - FTP, HTTP 등을 우선적으로 스위칭할 수 없음
3. L4 스위치
    - TCP/UDP 등의 스위칭을 수행함
    - FTP, HTTP 등을 구분하여 스위칭하는 로드 밸런싱 수행이 가능함
        - 로드 밸런싱(Load Balancing, 부하 분산)
            - 서버에 가해지는 부하를 분산해주는 장치 또는 기술을 통칭함
            - 여러 대의 서버를 두고 서비스를 제공하는 분산 처리 시스템에서 필요한 기술
            - 가용성 및 응답 시간을 최적화할 수 있음
    - 응용 계층에서 파악이 가능한 이메일 내용 등의 정교한 로드밸런싱 수행이 불가능함

<br>

### 6)  라우터(Router)
- 라우터는 LAN과 LAN 또는 LAN과 WAN을 연결하기 위한 인터넷 네트워킹 장비
- 라우터는 OSI 3계층에서 사용하는 네트워크 장비로, 스위치를 서로 연결하여 네트워크 간 트래픽의 최적 라우팅 경로를 설정하고, 결정된 경로를 따라 트래픽을 전달함
- 라우터는 네트워크 연동 장비로 PC 등의 로컬 호스트가 LAN에 접근할 수 있도록 함
- 라우터는 WAN 인터페이스를 사용하여 WAN에 접근하도록 함

<br>

### 7) 게이트웨이(Gateway)
- 프로토콜이 서로 다른 통신망에 접속할 수 있게 해주는 장치